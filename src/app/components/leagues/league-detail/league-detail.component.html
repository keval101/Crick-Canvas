<div>
  <div class="hero-bg w-full h-[400px] relative rounded-md">
    <div class="absolute inset-0 bg-gradient-to-r from-black/80 to-transparent rounded-md"></div>
    <div class="max-w-7xl mx-auto h-full flex items-center relative px-8">
      <div class="text-white max-w-2xl">
        <h1 class="text-5xl font-bold mb-6">{{league?.name}}</h1>
        <p class="text-xl text-gray-200 mb-8">
          Stay updated with live runss, match schedules and results from
          around the world
        </p>
        <div class="flex items-center gap-6">
          <div class="flex items-center gap-3 bg-white/10 backdrop-blur px-4 py-2 rounded-full" *ngIf="!(league?.teams?.length > 1)">
            <span class="w-2 h-2 bg-red-500 rounded-full animate-pulse"></span>
            <span class="text-white">No Teams Joined Yet</span>
          </div>

          <div class="flex items-center gap-3 bg-white/10 backdrop-blur px-4 py-2 rounded-full cursor-pointer" (click)="copyToClipBoard()" *ngIf="league?.userId === user?.uid">
            <input type="text" value="{{league?.leagueCode}}" class="mt-1 hidden" id="copylink" style="width: 90%">
            <span class="text-white">Leguge Code: {{league?.leagueCode}}</span>
            <i class="ri-file-copy-line"></i>
          </div>

          <div class="flex items-center gap-3 bg-white/10 backdrop-blur px-4 py-2 rounded-full cursor-pointer" (click)="copyToClipBoard()" *ngIf="league?.teams?.length > 1">
            <i class="ri-team-line mr-1"></i>
            <span class="text-white">Teams: {{league?.teams?.length}}</span>
          </div>

          <div class="flex items-center gap-3 bg-white/10 backdrop-blur px-4 py-2 rounded-full cursor-pointer" (click)="copyToClipBoard()" *ngIf="league?.teams?.length > 1">
            <i class="ri-basketball-fill"></i>
            <span class="text-white">{{league?.oversMatch}} Overs Match</span>
          </div>

        </div>
      </div>
    </div>
  </div>


  <div class="league-menu mb-16" *ngIf="(league?.teams?.length > 1)">
    <ng-container *ngIf="league?.fixtures?.length > 0">
      <button class="text-gray-900 font-medium hover:text-primary transition-colors" [class.active]="selectedTab === 'fixtures'" (click)="selectedTab = 'fixtures'"> Fixtures </button>
      <button class="text-gray-900 font-medium hover:text-primary transition-colors" [class.active]="" > Results </button>
      <button class="text-gray-900 font-medium hover:text-primary transition-colors" [class.active]="selectedTab === 'point-table'"  (click)="selectedTab = 'point-table'"> Point Tables </button>
      <button class="text-gray-900 font-medium hover:text-primary transition-colors" [class.active]="" > PlayOffs </button>
    </ng-container>

    <ng-container *ngIf="!league?.fixtures?.length">
      <button class="text-gray-900 font-medium hover:text-primary transition-colors" (click)="generateFixtures()"> Generate Fixtures </button>  
    </ng-container>
  </div>

  <div class="max-w-7xl mx-auto px-8 pb-16" *ngIf="selectedTab === 'fixtures'">
    <div class="flex items-center justify-between mb-12">
      <div class="flex items-center gap-8">
        <button class="text-gray-900 font-medium hover:text-primary transition-colors">
          All Matches
        </button>
        <button class="text-gray-500 hover:text-primary transition-colors">
          Completed
        </button>
        <button class="text-gray-500 hover:text-primary transition-colors">
          Upcoming
        </button>
      </div>
      <div class="flex items-center gap-3">
        <div class="relative">
          <input type="text" placeholder="Search matches..."
            class="pl-10 pr-4 py-2 rounded-full bg-gray-100 focus:outline-none focus:ring-2 focus:ring-primary/20 w-64" />
          <i class="ri-search-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
        </div>
      </div>
    </div>
    <div class="grid grid-cols-1 gap-6" id="matchContainer">

      <ng-container *ngFor="let fixture of fixtures">
      <!-- Match 3 -->
      <div
        class="match-card bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer overflow-hidden">
        <div class="relative">
          <div class="absolute top-4 right-4 flex items-center gap-2">
            <div class="flex items-center gap-2 bg-gray-50 px-3 py-1 rounded-full" *ngIf="fixture?.status === 'upcoming'">
              <i class="ri-time-line text-gray-600"></i>
              <span class="text-gray-600 font-medium">Upcoming</span>
            </div>
          </div>

          <ng-container *ngIf="fixture?.status === 'completed'">
            <div *ngIf="fixture?.team_one?.runs > fixture?.team_two?.runs"
              class=" w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-2 px-6 text-center font-medium flex items-center justify-center gap-2">
              <i class="ri-trophy-line"></i>
              <span>{{fixture?.team_one?.name ?? getTeamDetails(fixture?.team_one)?.name}} Won The Match!</span>
            </div>

            <div *ngIf="fixture?.team_two?.runs > fixture?.team_one?.runs"
              class=" w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-2 px-6 text-center font-medium flex items-center justify-center gap-2">
              <i class="ri-trophy-line"></i>
              <span>{{fixture?.team_two?.name ?? getTeamDetails(fixture?.team_two)?.name}} Won The Match!</span>
            </div>

          </ng-container>


          <div class="p-6">
            <div class="flex items-center gap-2 mb-4">
              <i class="ri-trophy-line text-primary"></i>
              <span class="font-medium text-gray-900">{{league?.name}}: Match {{fixture?.match_number}}</span>
            </div>
            <div class="flex items-center justify-between mb-8">
              <div class="flex items-center gap-4 flex-1">
                <img [src]="fixture?.team_one?.logo ?? getTeamDetails(fixture?.team_one)?.logo"
                  class="w-12 h-12 rounded-full object-cover" alt="New Zealand">
                <div>
                  <div class="font-semibold text-lg text-gray-900">{{fixture?.team_one?.name ?? getTeamDetails(fixture?.team_one)?.name}}</div>
                  <div *ngIf="fixture?.status !== 'upcoming'" class="text-2xl font-bold text-gray-900">-</div>
                  <div *ngIf="fixture?.status !== 'upcoming'" class="text-sm text-gray-500">- overs</div>
                </div>
              </div>
              <div class="px-6">
                <div class="text-gray-400 font-medium text-lg mb-2">VS</div>
              </div>
              <div class="flex items-center gap-4 flex-1 justify-end">
                <div class="text-right">
                  <div class="font-semibold text-lg text-gray-900">{{fixture?.team_two?.name ??  getTeamDetails(fixture?.team_two)?.name}}</div>
                  <div *ngIf="fixture?.status !== 'upcoming'" class="text-2xl font-bold text-gray-900">-</div>
                  <div *ngIf="fixture?.status !== 'upcoming'" class="text-sm text-gray-500">- overs</div>
                </div>
                <img [src]="fixture?.team_two?.logo ?? getTeamDetails(fixture?.team_two)?.logo"
                  class="w-12 h-12 rounded-full object-cover" alt="Pakistan">
              </div>
            </div>
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-2 text-gray-500">
                <i class="ri-map-pin-line"></i>
                <span>{{league?.venue}}</span>
              </div>
              
              <button class="outline-btn flex gap-2 items-center !border-red-200 hover:!bg-transparent" (click)="openMatchResultModal(fixture)">
                <img src="./assets/icons/cricket-ball.gif" alt="" width="30" width="30">
                Update Result
              </button>
            </div>
          </div>
        </div>
      </div>
      </ng-container>
      <!-- Match 1 -->
      <div
        class="match-card bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer overflow-hidden">
        <div class="relative">
          <div class="p-6">
            <div class="flex items-center gap-2 mb-4">
              <i class="ri-trophy-line text-primary"></i>
              <span class="font-medium text-gray-900">Ashes Series 2025</span>
            </div>
            <div class="flex items-center justify-between mb-8">
              <div class="flex items-center gap-4 flex-1">
                <img src="https://public.readdy.ai/ai/img_res/b4230a18c4ed86e3ae26db4ad0a5f3d3.jpg"
                  class="w-12 h-12 rounded-full object-cover" alt="Australia">
                <div>
                  <div class="font-semibold text-lg text-gray-900">Australia</div>
                  <div class="text-2xl font-bold text-red-500">245/6</div>
                  <div class="text-sm text-gray-500">45.2 overs</div>
                </div>
              </div>
              <div class="px-6">
                <div class="text-gray-400 font-medium text-lg mb-2">VS</div>
                <div class="text-sm text-gray-500">2025-03-23</div>
                <div class="text-sm text-gray-500">14:30</div>
              </div>
              <div class="flex items-center gap-4 flex-1 justify-end">
                <div class="text-right">
                  <div class="font-semibold text-lg text-gray-900">England</div>
                  <div class="text-2xl font-bold text-gray-900">180/4</div>
                  <div class="text-sm text-gray-500">32.1 overs</div>
                </div>
                <img src="https://public.readdy.ai/ai/img_res/5a8741d1eba271e365e4e2c7884943b4.jpg"
                  class="w-12 h-12 rounded-full object-cover" alt="England">
              </div>
            </div>
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-2 text-gray-500">
                <i class="ri-map-pin-line"></i>
                <span>Melbourne Cricket Ground</span>
              </div>
              <button
                class="px-6 py-2 bg-primary text-white rounded-full hover:bg-primary/90 transition-colors flex items-center gap-2">
                <span>Match Details</span>
                <i class="ri-arrow-right-line"></i>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Match 2 -->
      <div
        class="match-card bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer overflow-hidden">
        <div class="relative">
          <div class="absolute top-4 right-4 flex items-center gap-2">
            <div class="flex items-center gap-2 bg-green-50 px-3 py-1 rounded-full">
              <i class="ri-checkbox-circle-line text-green-600"></i>
              <span class="text-green-600 font-medium">Completed</span>
            </div>
          </div>
          <div
          class=" w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-2 px-6 text-center font-medium flex items-center justify-center gap-2">
          <i class="ri-trophy-line"></i>
          <span>India Won the Match</span>
        </div>
          <div class="p-6">
            <div class="flex items-center gap-2 mb-4">
              <i class="ri-trophy-line text-primary"></i>
              <span class="font-medium text-gray-900">ODI Series 2025</span>
            </div>
            <div class="flex items-center justify-between mb-8">
              <div class="flex items-center gap-4 flex-1">
                <img src="https://public.readdy.ai/ai/img_res/2e9015f7bb97fc7d320d079971a80ed3.jpg"
                  class="w-12 h-12 rounded-full object-cover" alt="India">
                <div>
                  <div class="font-semibold text-lg text-gray-900">India</div>
                  <div class="text-2xl font-bold text-gray-900">320/8</div>
                  <div class="text-sm text-gray-500">50.0 overs</div>
                </div>
              </div>
              <div class="px-6">
                <div class="text-gray-400 font-medium text-lg mb-2">VS</div>
                <div class="text-sm text-gray-500">2025-03-23</div>
                <div class="text-sm text-gray-500">09:30</div>
              </div>
              <div class="flex items-center gap-4 flex-1 justify-end">
                <div class="text-right">
                  <div class="font-semibold text-lg text-gray-900">South Africa</div>
                  <div class="text-2xl font-bold text-gray-900">225/10</div>
                  <div class="text-sm text-gray-500">45.3 overs</div>
                </div>
                <img src="https://public.readdy.ai/ai/img_res/332e141d902b155ec2ad84ac54967074.jpg"
                  class="w-12 h-12 rounded-full object-cover" alt="South Africa">
              </div>
            </div>
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-2 text-gray-500">
                <i class="ri-map-pin-line"></i>
                <span>Eden Gardens</span>
              </div>
              <button
                class="px-6 py-2 bg-primary text-white rounded-full hover:bg-primary/90 transition-colors flex items-center gap-2">
                <span>Match Details</span>
                <i class="ri-arrow-right-line"></i>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Match 3 -->
      <div
        class="match-card bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer overflow-hidden">
        <div class="relative">
          <div class="absolute top-4 right-4 flex items-center gap-2">
            <div class="flex items-center gap-2 bg-gray-50 px-3 py-1 rounded-full">
              <i class="ri-time-line text-gray-600"></i>
              <span class="text-gray-600 font-medium">Upcoming</span>
            </div>
          </div>
          <div class="p-6">
            <div class="flex items-center gap-2 mb-4">
              <i class="ri-trophy-line text-primary"></i>
              <span class="font-medium text-gray-900">T20 World Cup 2025</span>
            </div>
            <div class="flex items-center justify-between mb-8">
              <div class="flex items-center gap-4 flex-1">
                <img src="https://public.readdy.ai/ai/img_res/6f4ba3dbe9201d326ed70b5595a6bc8b.jpg"
                  class="w-12 h-12 rounded-full object-cover" alt="New Zealand">
                <div>
                  <div class="font-semibold text-lg text-gray-900">New Zealand</div>
                  <div class="text-2xl font-bold text-gray-900">-</div>
                  <div class="text-sm text-gray-500">- overs</div>
                </div>
              </div>
              <div class="px-6">
                <div class="text-gray-400 font-medium text-lg mb-2">VS</div>
                <div class="text-sm text-gray-500">2025-03-24</div>
                <div class="text-sm text-gray-500">18:00</div>
              </div>
              <div class="flex items-center gap-4 flex-1 justify-end">
                <div class="text-right">
                  <div class="font-semibold text-lg text-gray-900">Pakistan</div>
                  <div class="text-2xl font-bold text-gray-900">-</div>
                  <div class="text-sm text-gray-500">- overs</div>
                </div>
                <img src="https://public.readdy.ai/ai/img_res/8f897ff28d47c23c8ed363f53c913d4d.jpg"
                  class="w-12 h-12 rounded-full object-cover" alt="Pakistan">
              </div>
            </div>
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-2 text-gray-500">
                <i class="ri-map-pin-line"></i>
                <span>Dubai International Stadium</span>
              </div>
              <button
                class="px-6 py-2 bg-primary text-white rounded-full hover:bg-primary/90 transition-colors flex items-center gap-2">
                <span>Match Details</span>
                <i class="ri-arrow-right-line"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <div class="table-container overflow-x-auto shadow-lg rounded-lg" *ngIf="selectedTab === 'point-table'">
    <table class="w-full bg-white">
      <thead class="bg-white sticky top-0">
        <tr class="text-sm text-gray-700 font-semibold border-b">
          <th class="px-6 py-4 text-left">Team</th>
          <th class="px-4 py-4 text-center">P</th>
          <th class="px-4 py-4 text-center">W</th>
          <th class="px-4 py-4 text-center">L</th>
          <th class="px-4 py-4 text-center">D</th>
          <th class="px-4 py-4 text-center">RF</th>
          <th class="px-4 py-4 text-center">OF</th>
          <th class="px-4 py-4 text-center">RA</th>
          <th class="px-4 py-4 text-center">OB</th>
          <th class="px-4 py-4 text-center">Pts</th>
          <th class="px-4 py-4 text-center">NRR</th>
          <th class="px-4 py-4 text-center">Win%</th>
        </tr>
      </thead>
      <tbody>
        <tr class="bg-white hover:bg-gray-100 transition-colors duration-200 cursor-pointer">
          <td class="px-6 py-4">
            <div class="flex items-center gap-3">
              <img
                src="https://public.readdy.ai/ai/img_res/8e6e391bd6ae13bc34db493f3400916c.jpg"
                alt="Royal Challengers"
                class="w-8 h-8 rounded-full object-cover"
              />
              <span class="font-semibold text-gray-900">Royal Challengers</span>
            </div>
          </td>
          <td class="px-4 py-4 text-center">14</td>
          <td class="px-4 py-4 text-center text-green-600 font-medium">10</td>
          <td class="px-4 py-4 text-center text-red-600 font-medium">3</td>
          <td class="px-4 py-4 text-center">1</td>
          <td class="px-4 py-4 text-center">2456</td>
          <td class="px-4 py-4 text-center">239.4</td>
          <td class="px-4 py-4 text-center">2198</td>
          <td class="px-4 py-4 text-center">240</td>
          <td class="px-4 py-4 text-center font-semibold">21</td>
          <td class="px-4 py-4 text-center text-green-600">+0.435</td>
          <td class="px-4 py-4 text-center">71.43%</td>
        </tr>

        <tr class="bg-gray-50 hover:bg-gray-100 transition-colors duration-200 cursor-pointer">
          <td class="px-6 py-4">
            <div class="flex items-center gap-3">
              <img
                src="https://public.readdy.ai/ai/img_res/07c88fd6e0dcddef1d40d096dc309571.jpg"
                alt="Mumbai Kings"
                class="w-8 h-8 rounded-full object-cover"
              />
              <span class="font-semibold text-gray-900">Mumbai Kings</span>
            </div>
          </td>
          <td class="px-4 py-4 text-center">14</td>
          <td class="px-4 py-4 text-center text-green-600 font-medium">9</td>
          <td class="px-4 py-4 text-center text-red-600 font-medium">4</td>
          <td class="px-4 py-4 text-center">1</td>
          <td class="px-4 py-4 text-center">2345</td>
          <td class="px-4 py-4 text-center">238.2</td>
          <td class="px-4 py-4 text-center">2245</td>
          <td class="px-4 py-4 text-center">240</td>
          <td class="px-4 py-4 text-center font-semibold">19</td>
          <td class="px-4 py-4 text-center text-green-600">+0.328</td>
          <td class="px-4 py-4 text-center">64.29%</td>
        </tr>

        <tr class="bg-white hover:bg-gray-100 transition-colors duration-200 cursor-pointer">
          <td class="px-6 py-4">
            <div class="flex items-center gap-3">
              <img
                src="https://public.readdy.ai/ai/img_res/dee2468954e11bba1c161ffecbf43a31.jpg"
                alt="Delhi Dragons"
                class="w-8 h-8 rounded-full object-cover"
              />
              <span class="font-semibold text-gray-900">Delhi Dragons</span>
            </div>
          </td>
          <td class="px-4 py-4 text-center">14</td>
          <td class="px-4 py-4 text-center text-green-600 font-medium">8</td>
          <td class="px-4 py-4 text-center text-red-600 font-medium">5</td>
          <td class="px-4 py-4 text-center">1</td>
          <td class="px-4 py-4 text-center">2289</td>
          <td class="px-4 py-4 text-center">237.5</td>
          <td class="px-4 py-4 text-center">2301</td>
          <td class="px-4 py-4 text-center">240</td>
          <td class="px-4 py-4 text-center font-semibold">17</td>
          <td class="px-4 py-4 text-center text-green-600">+0.156</td>
          <td class="px-4 py-4 text-center">57.14%</td>
        </tr>

        <tr class="bg-gray-50 hover:bg-gray-100 transition-colors duration-200 cursor-pointer">
          <td class="px-6 py-4">
            <div class="flex items-center gap-3">
              <img
                src="https://public.readdy.ai/ai/img_res/00176bd269c8df8de1f63f610f4c5782.jpg"
                alt="Chennai Strikers"
                class="w-8 h-8 rounded-full object-cover"
              />
              <span class="font-semibold text-gray-900">Chennai Strikers</span>
            </div>
          </td>
          <td class="px-4 py-4 text-center">14</td>
          <td class="px-4 py-4 text-center text-green-600 font-medium">7</td>
          <td class="px-4 py-4 text-center text-red-600 font-medium">6</td>
          <td class="px-4 py-4 text-center">1</td>
          <td class="px-4 py-4 text-center">2198</td>
          <td class="px-4 py-4 text-center">236.4</td>
          <td class="px-4 py-4 text-center">2245</td>
          <td class="px-4 py-4 text-center">240</td>
          <td class="px-4 py-4 text-center font-semibold">15</td>
          <td class="px-4 py-4 text-center text-red-600">-0.124</td>
          <td class="px-4 py-4 text-center">50%</td>
        </tr>

        <tr class="bg-white hover:bg-gray-100 transition-colors duration-200 cursor-pointer">
          <td class="px-6 py-4">
            <div class="flex items-center gap-3">
              <img
                src="https://public.readdy.ai/ai/img_res/92495f1736e441f620ec5a92f604dc49.jpg"
                alt="Kolkata Warriors"
                class="w-8 h-8 rounded-full object-cover"
              />
              <span class="font-semibold text-gray-900">Kolkata Warriors</span>
            </div>
          </td>
          <td class="px-4 py-4 text-center">14</td>
          <td class="px-4 py-4 text-center text-green-600 font-medium">6</td>
          <td class="px-4 py-4 text-center text-red-600 font-medium">7</td>
          <td class="px-4 py-4 text-center">1</td>
          <td class="px-4 py-4 text-center">2156</td>
          <td class="px-4 py-4 text-center">235.3</td>
          <td class="px-4 py-4 text-center">2289</td>
          <td class="px-4 py-4 text-center">240</td>
          <td class="px-4 py-4 text-center font-semibold">13</td>
          <td class="px-4 py-4 text-center text-red-600">-0.245</td>
          <td class="px-4 py-4 text-center">42.86%</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

  <p-dialog header="Match Result" [(visible)]="matchResultModal" [modal]="true" [draggable]="false" [resizable]="false">
    <app-match-result (closeMatchResultModal)="closeMatchResultModal()"></app-match-result>
 </p-dialog>

<div class="mdc-snackbar"><div class="mdc-snackbar__surface"><div class="mdc-snackbar__label" role="status" aria-live="polite">Copied!</div><div class="mdc-snackbar__actions">
