<ng-container *ngIf="isLoading">
  <app-spinner></app-spinner>
</ng-container>

<ng-container *ngIf="!isLoading">
  <button type="button" class="btn" (click)="setupTeam()" *ngIf="!user?.team">Setup Team</button>

  <div *ngIf="user?.team"
  class="relative w-full bg-top bg-cover py-24 rounded-2xl flex flex-column justify-center items-center"
  style="background-image: url({{user?.team?.logo}}); height: calc(100vh - 64px);"

>
  <div class="absolute inset-0 bg-black/30 rounded-2xl"></div>
  <div class="container mx-auto relative">
    <div class="flex items-center gap-8 sm:flex-row flex-col banner p-5">
      <div
        class="w-40 h-40 rounded-full bg-transparent backdrop-blur-sm p-2 flex items-center justify-center overflow-hidden"
      >
        <img
          [src]="user?.team?.logo"
          alt="Team Logo"
          class="object-cover rounded-full z-10" 
          style="min-width: 160px; height: 160px;"
        />
      </div>
      <div class="text-white z-10">
        <div class="flex sm:flex-row flex-col gap-2 items-center">
          <h1 class="sm:text-5xl text-2xl font-bold mb-2">{{ user?.team?.name }}</h1>
          <button (click)="setupTeam()"
          class="bg-primary text-white py-3 px-6 !rounded-button hover:bg-primary/90 flex items-center justify-center gap-2 whitespace-nowrap"
        >
          <i
            class="ri-edit-line w-5 h-5 flex items-center justify-center"
          ></i>
          Edit Team
        </button>
        </div>

        <!-- <div class="ml-auto grid grid-cols-3 gap-8 text-center mt-8">
          <div class="bg-white/10 backdrop-blur-sm rounded-lg p-6">
            <p class="text-4xl font-bold text-white">256</p>
            <p class="text-lg text-white/80 mt-2">Matches</p>
          </div>
          <div class="bg-white/10 backdrop-blur-sm rounded-lg p-6">
            <p class="text-4xl font-bold text-white">142</p>
            <p class="text-lg text-white/80 mt-2">Wins</p>
          </div>
          <div class="bg-green-500/10 backdrop-blur-sm rounded-lg p-6">
            <p class="text-4xl font-bold text-green-400">55.5%</p>
            <p class="text-lg text-white/80 mt-2">Win Rate</p>
          </div>
        </div> -->
      </div>
    </div>
  </div>
</div>

  <!-- <div class="container mx-auto px-4 py-8" >
    <div class="bg-white rounded-lg shadow-lg p-6 max-w-md mx-auto">
      <div class="flex items-center gap-6">
        <div
          class="w-24 h-24 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden"
        >
          <img
            [src]="user?.team?.logo"
            alt="Team Logo"
            class="w-full h-full object-cover"
          />
        </div>
        <div>
          <h2 class="text-2xl font-bold text-gray-900">
            {{ user?.team?.name }}
          </h2>
          <div class="flex items-center gap-2 mt-3">
            <span
              class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary/10 text-primary"
            >
              Active
            </span>
            <span
              class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"
            >
              Since 2008
            </span>
          </div>
        </div>
      </div>

      <div class="mt-6 pt-6 border-t border-gray-200">
        <div class="grid grid-cols-3 gap-4 text-center">
          <div>
            <p class="text-2xl font-bold text-gray-900">256</p>
            <p class="text-sm text-gray-600">Matches</p>
          </div>
          <div>
            <p class="text-2xl font-bold text-gray-900">142</p>
            <p class="text-sm text-gray-600">Wins</p>
          </div>
          <div>
            <p class="text-2xl font-bold text-primary">55.5%</p>
            <p class="text-sm text-gray-600">Win Rate</p>
          </div>
        </div>
      </div>

      <div class="mt-6 flex gap-3">
        <button class="btn w-full flex items-center justify-center gap-2" (click)="setupTeam()">
          <i class="ri-edit-line w-4 h-4 flex items-center justify-center"></i>
          Edit Team
        </button>
      </div>
    </div>
  </div> -->
</ng-container>

<p-dialog
  header=""
  [(visible)]="setupTeamVisible"
  [modal]="true"
  [draggable]="false"
  [resizable]="false"
>
  <app-setup-team
    (closeSetupTeamModal)="closeSetupTeamModal()"
    [isProfile]="true"
  ></app-setup-team>
</p-dialog>
